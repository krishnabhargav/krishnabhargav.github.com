<!DOCTYPE html>
<html>
<head>   
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Vedhava Sodhi - Musings of a Software Engineer v2.0</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />
    <!-- This is for syntax highlight -->
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css">
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />

</head>
<body class="home-template">

    
    <main class="content" role="main">

    <article class="post">
        <header class="post-header">
            <a id="blog-logo" href="/">
                
                    <span class="blog-title">Vedhava Sodhi</span>
                 
            </a>
        </header>
        
        <span class="post-meta">
        	<time datetime="2008-01-28">28 Jan 2008</time>
        	
        		on
	        	
	        	    java
	        	
	        
       	</span>

        <h1 class="post-title">Java Program to detect Server side redirections!</h1>

        <section class="post-content">
            As a part of my research work, I wrote this small function in Java which gives you HTTP Response Code and with which we can actually detect server side redirects. The server side redirects have a response code as 302. Well here is the program,<br /><br />public class NetworkTool {<br />    public static int getResponseCode(String url) {<br /><br />        try {<br />            URL urlItem = new URL(url);<br />            HttpURLConnection con = (HttpURLConnection) urlItem.openConnection();<br />            <span style="font-weight: bold;">con.setReadTimeout(1000);</span><br /><span style="font-weight: bold;">            con.setConnectTimeout(5000);</span><br />            //System.out.println(con.getConnectTimeout());<br />            con.setInstanceFollowRedirects(false);<br />            int res = con.getResponseCode();<br />            return res;<br />        } catch (MalformedURLException e) {<br />            // TODO Auto-generated catch block<br />            //e.printStackTrace();<br />        } catch (IOException e) {<br />            // TODO Auto-generated catch block<br />            //e.printStackTrace();<br />        }<br />        catch(Exception ex){//System.out.println("hehe");<br />                    }<br />        return -1;<br />    }<br />   <br />    public static void main(String[] args)<br />    {<br />        System.out.println(getResponseCode("http://cs.uga.edu/index.htmx"));<br />        System.out.println(getResponseCode("http://buddibuddibuddi.com"));<br />        System.out.println(getResponseCode("http://128.192.1.21"));<br />    }<br />}<br /><br />The statements highlighted in bold are important. Otherwise, there are some url for which you get connected to the server but you keep waiting for infinite time for the data to come on the connection. So if we set time-out on read, we don't wait for long and this is especially helpful when you run the tests on huge data.<br />It took me quite a long time to get the actual code fixed, and then to find out the two statements. So I hope this post would be useful for others too.
        </section>

        

        <footer class="post-footer">
        	<!-- If we want to display author's name and bio -->
            

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Java Program to detect Server side redirections!&amp;url=/java/2008/01/28/Java-Program-to-detect-Server-side-redirections%21.html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=/java/2008/01/28/Java-Program-to-detect-Server-side-redirections%21.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=/java/2008/01/28/Java-Program-to-detect-Server-side-redirections%21.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
            
            
        	
        </footer>

    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="/rss.xml"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="/">Vedhava Sodhi</a> &copy;  &bull; All rights reserved.</section>
             <section class="poweredby">Made with Jekyll using <a href="http://github.com/rosario/kasper">Kasper theme</a></section>
        </div>
    </footer>

    
    <script type="text/javascript" src="/assets/js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-XXXXXXXX-X']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>   
</body>
</html>
