<!DOCTYPE html>
<html>
<head>   
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Vedhava Sodhi - Musings of a Software Engineer v2.0</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />
    <!-- This is for syntax highlight -->
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css">
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />

</head>
<body class="home-template">

    
    <main class="content" role="main">

    <article class="post">
        <header class="post-header">
            <a id="blog-logo" href="/">
                
                    <span class="blog-title">Vedhava Sodhi</span>
                 
            </a>
        </header>
        
        <span class="post-meta">
        	<time datetime="2012-11-14">14 Nov 2012</time>
        	
        		on
	        	
	        
       	</span>

        <h1 class="post-title">Hello World! with Scala Web Application using Play 2.0 and Scalate</h1>

        <section class="post-content">
            <p>In this post, we will look at how to make a hello-world web application in scala using the Play 2.0 Web Framework and change the template engine to work with Scalate. We assume your machine is all set up with Java and Scala configured. </p> <h3>Step 1 : DOWNLOAD AND CONFIGURE Play 2.0</h3> <p>Download the Play Framework 2.0 from <a title="http://download.playframework.org/releases/play-2.0.4.zip" href="http://download.playframework.org/releases/play-2.0.4.zip">http://download.playframework.org/releases/play-2.0.4.zip</a>. Then extract the zip file to some location. I put mine at C:\Development\tools\play-2.0.4\. <em>It is usually a good idea to leave the version number intact so as to easily know what version of any tool you are currently having on your machine.</em></p> <p>The configuration portion is pretty simple – <strong>Update your PATH environment variable to include the root directory of the play-2.0.4 folder which has the “play.bat” (I am running windows).</strong></p> <p>To verify, launch your command line or powershell and type the command “play”. You should see something like shown below.</p> <p><a href="http://lh6.ggpht.com/-NBtVsyBS4Ek/UKMcbf7BYiI/AAAAAAAABe4/PKzWPxA1NqA/s1600-h/image%25255B3%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/-Q5sGyfo_XQA/UKMcc73XGsI/AAAAAAAABfA/NzZSaShb9yw/image_thumb%25255B1%25255D.png?imgmax=800" width="369" height="144"></a></p> <h2></h2> <h3>Step 2 : CREATE A NEW PLAY 2.0 WEB APPLICATION</h3> <p>Using command line (change directory – cd), go to a folder where you wish to place your application. Run the following command</p> <p><strong>play new helloworld-scalate</strong></p> <p>Here helloworld-scalate will be my application name. </p> <p>Then from the command line go into the “helloworld-scalate” folder. And then run the following command.</p> <p><strong>play run</strong></p> <p>The first time you run, it takes a few seconds to initialize the project and upon success, you will see on-screen instructions that the application is hosted at 9000 port on localhost.</p> <p><a href="http://lh4.ggpht.com/-sMrzf9BRk1s/UKMcdH-wbTI/AAAAAAAABfI/8ftKwvYbjs4/s1600-h/image%25255B8%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/-grghe8p9c7I/UKMceHoxLoI/AAAAAAAABfQ/eA11NCgG-D0/image_thumb%25255B4%25255D.png?imgmax=800" width="603" height="381"></a></p> <p>Verify by opening your browser and loading <a href="http://localhost:9000">http://localhost:9000</a></p> <p>You should see a welcome page.</p> <h3></h3> <h3>Step 3 : INTEGRATING SCALATE INT YOUR APPLICATION</h3> <p>I found the proper instructions to do this <a href="http://aftnn.org/2012/oct/01/play-20-and-scalate/">here</a>. But I will repeat them again.</p> <p>Go to helloworld-scalate\project\Build.scala</p> <h4>3.a Add the following lines to <strong>appDependencies</strong>. </h4><pre class="scala" name="code">"org.fusesource.scalate" % "scalate-core" % "1.5.3"</pre><br /><p><strong>What did we do? </strong>What we are doing is to add a dependency on scalate-core in an SBT friendly style. Play 2.0 takes care of fetching this dependency through its repositories which is listed at helloworld-scalate\project\plugins.sbt</p><br /><p>To verify if things are fine, go back to command line and run the command </p><br /><p><strong>play run</strong></p><br /><p>You should see that SBT updates the dependencies. Just verify if your application can still be browsed from localhost:9000.</p><br /><h3></h3><br /><h4>3.b Add ScalaIntegration.scala to helloworld-scalate\app\lib</h4><br /><p>You will need to create a folder “lib” inside helloworld-scalate\app folder. And then from the URL given below copy the content into a new file – ScalaIntegration.scala</p><br /><p><a title="https://raw.github.com/janhelwich/Play-2-with-Scala-and-Scalate/master/app/controllers/ScalateIntegration.scala" href="https://raw.github.com/janhelwich/Play-2-with-Scala-and-Scalate/master/app/controllers/ScalateIntegration.scala">https://raw.github.com/janhelwich/Play-2-with-Scala-and-Scalate/master/app/controllers/ScalateIntegration.scala</a></p><br /><p>This does the necessary bootstrapping such that you can now use scalate in the current project.</p><br /><p>Run the “play run” command again and reload the page at localhost:9000 to make sure you haven’t made a mistake.</p><br /><h2></h2><br /><h3>Step 4 : UPDATE VIEWS &amp; ACTION WITH TEMPLATE OF YOUR CHOICE</h3><br /><p>Scalate supports multiple template engines like Jade, Mustache, Scaml. The documentation indicates that Scaml gives the best performance given the strongly typed nature. But I might have misread the docs so <a href="http://scalate.fusesource.org/which.html">read and check yourself</a>.</p><br /><p>To do this, rename your files inside “helloworld-scalate\app\views” folder such that extension is changed from <strong>.scala.html</strong> to <strong>.scaml.</strong> Note that you will see two files – the layout file (main) and the view file (index).</p><br /><p>In the main.scaml, add the following code.</p><pre class="scala" name="code">-@ var body: String<br />-@ var title: String = "Page"<br /><br />%html<br />  %head<br />    %title= title<br />  %body<br />    != body<br /></pre><br /><p>In the index.scaml, add the following code. </p><pre class="scala" name="code">-@ var message: String = "Page"<br />/Layout template file given here<br />-attributes("layout") = "main.scaml"<br /><br />%h1= message<br /></pre><br /><p>Notice that in the index.scaml, we specified that we want to apply the <strong>main.scaml</strong> layout using the <strong>attributes(“layout”) </strong>declaration.</p><br /><p>You also need to change the application controller which is inside the helloworld-scala\app\controllers\application.scala</p><br /><p>The Application controller has an action called “index” which is the one that gets executed when you were loading the browser. We need to change this action such that it renders using Scalate instead of the default one.</p><pre class="scala" name="code">package controllers<br /><br />import play.api._<br />import play.api.mvc._<br /><br />object Application extends Controller {<br /><br />  def index = Action {<br />    //Ok(views.html.index("Your new application is ready."))<br />    Ok(Scalate("index.scaml").render(‘message -&gt; "Hello World"))<br />  }<br />}<br /></pre><br /><p>As you can see in the index action, I commented the existing line added this one line.</p><br /><p><strong>Ok(Scalate("index.scaml").render(‘message-&gt; "Hello World")) </strong></p><br /><p>Please pay attention to the ‘<strong> </strong>in front of the title. Here the <strong><u>‘message</u></strong> is a symbol literal. <a href="http://daily-scala.blogspot.com/2010/01/symbols.html">You can read more about them here.</a>&nbsp; </p><br /><p>Now run the “play run” command again and you should see plain html page that prints “Hello World”.</p><br /><p>I hope this step-by-step helped you get started with a new play 2.0 web application in Scala and also made you familiar with integrating the scalate engine. Note that the <a href="http://aftnn.org/2012/oct/01/play-20-and-scalate/">original url</a><strong>&nbsp;</strong>which I mentioned earlier has the same steps but step 4 where default Scalate template type is specified in the &lt;application folder&gt;\conf\application.conf<strong> </strong>is not performed. I skipped this step and it doesn’t appear that it will cause any problems. But again, after reading this tutorial, if you are a beginner, then you and I are at the same level so please feel free to explore more and learn. </p><br /><p>Thanks!</p>  
        </section>

        

        <footer class="post-footer">
        	<!-- If we want to display author's name and bio -->
            

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Hello World! with Scala Web Application using Play 2.0 and Scalate&amp;url=/2012/11/14/Hello-World%21-with-Scala-Web-Application-using-Play-2.0-and-Scalate.html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=/2012/11/14/Hello-World%21-with-Scala-Web-Application-using-Play-2.0-and-Scalate.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=/2012/11/14/Hello-World%21-with-Scala-Web-Application-using-Play-2.0-and-Scalate.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
            
            
        	
        </footer>

    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="/rss.xml"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="/">Vedhava Sodhi</a> &copy;  &bull; All rights reserved.</section>
             <section class="poweredby">Made with Jekyll using <a href="http://github.com/rosario/kasper">Kasper theme</a></section>
        </div>
    </footer>

    
    <script type="text/javascript" src="/assets/js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-XXXXXXXX-X']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>   
</body>
</html>
