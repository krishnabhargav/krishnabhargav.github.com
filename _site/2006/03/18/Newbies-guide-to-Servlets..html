<!DOCTYPE html>
<html>
<head>   
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Vedhava Sodhi - Musings of a Software Engineer v2.0</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />
    <!-- This is for syntax highlight -->
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css">
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />

</head>
<body class="home-template">

    
    <main class="content" role="main">

    <article class="post">
        <header class="post-header">
            <a id="blog-logo" href="/">
                
                    <span class="blog-title">Vedhava Sodhi</span>
                 
            </a>
        </header>
        
        <span class="post-meta">
        	<time datetime="2006-03-18">18 Mar 2006</time>
        	
        		on
	        	
	        
       	</span>

        <h1 class="post-title">Newbies guide to Servlets.</h1>

        <section class="post-content">
            <span style="font-size:130%;">I better kiss ASP.NET and bang the heck out of servlets. Agreed, servlets are easy to program to a certain extent, but when it is for presentation oriented applications they are terrible to work with. They just mess up your code so much that you begin to hate it yourself.<br />Anyway, for those who doesnt know servlets - heres a sample servlet and steps.<br /><br />1. Download Apache Tomcat Server(the best for servlets) and install it.<br /><br />2. In the installation folder you can see " webapps " folder which is the root folder for your server. You copy your applications into this folder.<br /><br />3. Write your servlet and compile it. Take a look at sample servlet.<br /></span> <span style="color: rgb(0, 0, 102); font-weight: bold;font-size:130%;" > import javax.servlet.http.*;</span><span style="font-size:130%;"><br /></span><span style="color: rgb(0, 0, 102); font-weight: bold;font-size:130%;" >     import java.io.*;</span><span style="font-size:130%;"><br /></span><span style="color: rgb(0, 0, 102);font-size:130%;" >   </span><span style="font-weight: bold; color: rgb(0, 0, 102);font-size:130%;" ><span style="font-family:arial;"> public class SampleServlet extends HttpServlet</span><br /><span style="font-family:arial;">       {</span><br /><span style="font-family:arial;">         public void doGet(HttpServletRequest req,HttpServletResponse resp) throws Exception</span><br /><span style="font-family:arial;">         {</span><br /><span style="font-family:arial;">            doPost(req,resp); //call post method handler</span><br /><span style="font-family:arial;">        }</span><br /><span style="font-family:arial;">    </span><br /><span style="font-family:arial;">        public void doPost(HttpServletRequest req,HttpServletResponse resp) throws Exception</span><br /><span style="font-family:arial;">         {</span><br /><span style="font-family:arial;">           PrintWriter out=resp.getWriter();//obtain the stream to the output - to the browser</span><br /><span style="font-family:arial;">           //we need to render html content as shown below.doesnt this suck???</span><br /><span style="font-family:arial;"> out.println("</span></span><span style="font-weight: bold; color: rgb(0, 0, 102);font-size:130%;" ><span style="font-family:arial;">&lt;html&gt;&lt;head&gt;&lt;title&gt;Sample Servlet&lt;/title&gt;&lt;/headgt;&lt;body&gt;</span></span><span style="font-weight: bold; color: rgb(0, 0, 102);font-size:130%;" ><span style="font-family:arial;">");</span><br /><span style="font-family:arial;"> out.println("Bhargava's blog rocks!!!&lt;/body&gt;&lt;/html&gt;");</span><br /><span style="font-family:arial;">         }</span><br /><span style="font-family:arial;">    }<br /><br />How to compile??<br />Nothing different, but make sure you add path to the Servlet-api.jar which is present in the common/lib folder of Apach tomcat installation folder. How do you do that? well figure it out yourself. otherwise mail me.<br /><br /></span></span><span style="color: rgb(0, 0, 0);font-size:130%;" ><span style="font-family:arial;"><span style="font-family:georgia;">4. </span></span></span><span style="color: rgb(0, 0, 0);font-size:130%;" ><span style="font-family:arial;"><span style="font-family:georgia;">Now that the servlet is ready, compile it and keep the .class file aside. Now Create a folder, say TestServlet and create a WEB-INF folder inside this folder. Inside the WEB-INF Folder, create a "classes" folder and copy your servlet class into the file. I shall give you a <span style="font-weight: bold;">web.xml </span>which is to be placed inside the WEB-INF Folder. Copy the TestServlet folder to  <span style="font-weight: bold;">webapps</span></span></span></span>  directory of the Tomcat installation folder. The following is the directory structure you  should get as a result.<span style="font-size:130%;"><br />  Apache installation path.....\webapps                                                         |-TestServlet<br />                                                             |-WEB-INF (-> web.xml is also present in web-inf)<br />                                                                     |-classes<br />                                                                             |-SampleServlet.class<br /><br />5. Actually the better way is to create a .war archive. Create WEB-INF and place web.xml in it. Also classes directory with SampleServlet .class inside it. Go to command line and navigate to the folder which has this WEB-INF and type the following<br /></span>                      <span style="font-weight: bold;font-size:130%;" >jar cvf  TestServlet .war  WEB-INF<br /></span><span style="font-size:130%;">You can just copy the generated war archive into the webapps folder of Tomcat and restart Tomcat.</span><span style="font-weight: bold;font-size:130%;" ><span style="font-weight: bold;"><br /></span></span><span style="font-size:130%;">6. The web.xml is the configuration file that tells the container what servlets are available and other information(i dont know !! ) create the web.xml as it is. Try to understand what it says.<br /></span><span style="color: rgb(0, 153, 0);font-size:130%;" ><span style="color: rgb(102, 0, 0);"><br />&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;</span><br /><br /><span style="color: rgb(102, 0, 0);">&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee"</span><br /><span style="color: rgb(102, 0, 0);">    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</span><br /><span style="color: rgb(102, 0, 0);">    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"</span><br /><span style="color: rgb(102, 0, 0);">    version="2.4"&gt;</span><br />   <br />&lt;!-- SERVLETS INFORMATION STARTS HERE --&gt;<br />&lt;!--  sample servlet for testing --&gt;<br />  <span style="color: rgb(102, 0, 0);"> &lt;servlet&gt;</span><br /><span style="color: rgb(102, 0, 0);"> &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;</span><br /><span style="color: rgb(102, 0, 0);"> &lt;servlet-class&gt;TestServlet&lt;/servlet-class&gt;</span><br /><span style="color: rgb(102, 0, 0);">    &lt;/servlet&gt;</span><br /><br /><span style="color: rgb(102, 0, 0);">    &lt;servlet-mapping&gt;</span><br /><span style="color: rgb(102, 0, 0);"> &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;</span><br /><span style="color: rgb(102, 0, 0);"> &lt;url-pattern&gt;/TestServlet&lt;/url-pattern&gt;</span><br /><span style="color: rgb(102, 0, 0);">    &lt;/servlet-mapping&gt;</span><br /> <br />&lt;!-- end sample servlet--&gt;<br /><span style="color: rgb(153, 0, 0);">&lt;/web-app&gt;</span><br /><span style="color: rgb(204, 0, 0);"><br /><span style="color: rgb(0, 0, 0);"><br />Notice the <url-pattern>  value.  It says when ever  <span style="font-style: italic;">SampleServlet</span> is called from browser , invoke the servlet whose name is <span style="font-style: italic;">SampleServlet </span>whcih inturn loads the  servlet whose class is mapped to this servlet, throuh <servlet-mapping><br /><br />Assuming apache runs on localhost, and that you have deployed your servlet(by the way the web.xml is called Deployment Descriptor) you should type the following URL on browser<br /><br />http://localhost/TestServlet/SampleServlet </servlet-mapping></url-pattern></span></span></span><span style="font-size:130%;"><br /><br /><br />You should get  </span><span style="font-weight: bold;font-size:130%;" >Bhargav 's  blog rocks!!<br /><br /><br /></span><span style="font-size:130%;"> In case you dont get the output and get a 404 Error(resource not found) please verify if you have created the directory as i mentioned and most importantly the web.xml is correct or not. I once got stuck up with this problem and no where on the internet you can find solution for the problem!(not now cos i posted it on my blog! isnt my blog informative?) The problem was that i did not specify the schema to follow in the <web-app> element inside web.xml, that is even the following portion is very important.<br /><span style="color: rgb(0, 153, 0);"><br /><br /><span style="color: rgb(204, 0, 0);"><web-app xmlns="http://java.sun.com/xml/ns/j2ee"><br /></web-app></span></span></web-app></span><span style="color: rgb(0, 153, 0);font-size:130%;" ><span style="color: rgb(102, 0, 0);">&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;</span><br /><br /><span style="color: rgb(102, 0, 0);">&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee"</span><br /><span style="color: rgb(102, 0, 0);">    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</span><br /><span style="color: rgb(102, 0, 0);">    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"</span><br /><span style="color: rgb(102, 0, 0);">    version="2.4"&gt;</span></span><web-app><span style="color: rgb(0, 153, 0);"><span style="color: rgb(204, 0, 0);font-size:130%;" ><web-app xmlns="http://java.sun.com/xml/ns/j2ee"><span style="color: rgb(204, 0, 0);"><br /><br /><br /><span style="color: rgb(0, 0, 0);">I hope this brief tutorial gives a kick start for those interested in learning servlets. Actually there is more of servlets than what i just covered(what i told is simply about Deployment in Tomcat, nothing else)? Just google out and if you have any questions , feel free to contact me at krishnabhargav@yahoo.com. I am not bad at J2EE, though not as good as .NET. Anyway i can help you out.<br /><br />Next on this servlets issue, i would post a tutorial on Forms based authentication using Servlets and Apache Tomcat container. Again there is no proper step-by-step tutorial for this online, so meanwhile please go through some sample servlets code. All the best. And please hate servlets :)) cos compared to servlets Asp.NEt is veryyyyy easy to work with.<br /><br /><br />Krish.</span></span></web-app></span><span style="color: rgb(0, 0, 102);font-size:85%;" ><span style="font-family:arial;"><span style="color: rgb(0, 0, 0);font-family:georgia;" ></span></span></span><span style="font-weight: bold; color: rgb(0, 0, 102);font-size:85%;" ><span style="font-family:arial;"></span></span></span></web-app>
        </section>

        

        <footer class="post-footer">
        	<!-- If we want to display author's name and bio -->
            

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Newbies guide to Servlets.&amp;url=/2006/03/18/Newbies-guide-to-Servlets..html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=/2006/03/18/Newbies-guide-to-Servlets..html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=/2006/03/18/Newbies-guide-to-Servlets..html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
            
            
        	
        </footer>

    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="/rss.xml"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="/">Vedhava Sodhi</a> &copy;  &bull; All rights reserved.</section>
             <section class="poweredby">Made with Jekyll using <a href="http://github.com/rosario/kasper">Kasper theme</a></section>
        </div>
    </footer>

    
    <script type="text/javascript" src="/assets/js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-XXXXXXXX-X']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>   
</body>
</html>
