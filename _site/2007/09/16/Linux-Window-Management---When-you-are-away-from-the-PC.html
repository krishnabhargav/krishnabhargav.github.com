<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Linux Window Management - When you are away from the PC</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Your New Jekyll Site</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Linux Window Management - When you are away from the PC</h2>
<p class="meta">16 Sep 2007</p>

<div class="post">
<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_Oy9HuksgrdU/Rux5DltmggI/AAAAAAAAABE/nlmscC1jHeM/s1600-h/q2.jpg"><img style="margin: 0pt 10px 10px 0pt; float: left; cursor: pointer;" src="http://3.bp.blogspot.com/_Oy9HuksgrdU/Rux5DltmggI/AAAAAAAAABE/nlmscC1jHeM/s320/q2.jpg" alt="" id="BLOGGER_PHOTO_ID_5110592779728617986" border="0" /></a><br />Like I mentioned in the previous posts, I have this requirement where I run tests using SWT Browser Widget on thousands of URLs. And I am start the test and leave the lab. But then for some URL, the SWT Browser just pops up a dialog either asking for password or warning about a bad certificate. This has been my biggest problem off late and has delayed my tests because unless you close the dialogs the program, the execution cannot move forward.(Like the one shown in the image)<br />I tried out various options like configuring the settings of Mozilla which is used by SWT Browser when the widget runs on Linux (It uses IE when is running on Windows). But this hasnt worked out.<br />Then I thought, in Linux if a window is created, there is some way that we can be notified about this. Like some kind of GNOME or a X window Events. So initially I thought I would write some program in C to capture these global events and then for those windows I want, I would close them as I get notified. But then unlike getting this idea, implementing it is not that simple. Even now I have no clue if I ever want to write such a program, then  what should I start.<br />Anyways I browsed for a long time and found out about this wonderful new tool called "wmctrl" which does exactly what I want. With <span style="font-weight: bold;">wmctrl</span> I can get a list of open windows, their X Window ID, their title, their process IDs.  And not only that we can manage a specific window using its ID or title and this includes opening, closing, resize, move, change title, etc. Isnt that great?<br />You can download it from "http://www.sweb.cz/tripie/utils/wmctrl/". Just install the tool on your machine using ./configure, make, make install and you are good to go.<br /><span style="font-weight: bold;">Getting a list of open windows on Linux</span><br />In the command line, type in <span style="font-weight: bold;">wmctrl -l</span> to get a list of all open windows and their information. Example shown in the image.<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_Oy9HuksgrdU/Rux7aFtmghI/AAAAAAAAABM/RS8xPgY5D5Q/s1600-h/q2.jpg"><img style="margin: 0pt 0pt 10px 10px; float: right; cursor: pointer;" src="http://1.bp.blogspot.com/_Oy9HuksgrdU/Rux7aFtmghI/AAAAAAAAABM/RS8xPgY5D5Q/s320/q2.jpg" alt="" id="BLOGGER_PHOTO_ID_5110595365298930194" border="0" /></a><br />The other options are also shown. You can close a window by passing its ID (<span style="font-weight: bold;">-i </span>option) and a <span style="font-weight: bold;">-c </span>option.<br />You can close a window by just passing the title along with <span style="font-weight: bold;">-c</span> option.<br /><br /><br />But then the next problem is how am I going to execute this from a Java Program!<br /><span style="font-weight: bold;">Executing Linux Commands from Java Program<br /></span>You can run a Unix command from a Java Program, as shown below<br /><span style="font-weight: bold;">try {<br />        Process p = Runtime.getRuntime().exec("wmctrl -l -p");<br />        int i = p.waitFor(); // very important. You wait for the command to be executed.<br />        // i would be the return value of the process you are running.<br />        if(i==0) //if successfully terminated<br />        {<br />            BufferedReader buff = new BufferedReader(new InputStreamReader(p.getInputStream()));<br />            String temp;<br />            while((temp=buff.readLine())!=null)<br />            {<br />                System.out.println(temp);<br />            }<br />        }<br />        else //wmctrl returns 1 if no options passed<br />            System.out.println("error : "+i);<br />    } catch (IOException e) {<br />        // TODO Auto-generated catch block<br />        e.printStackTrace();<br />    } catch (InterruptedException e) {<br />        // TODO Auto-generated catch block<br />        e.printStackTrace();<br />    }<br /><br /></span><span style="font-weight: bold;"></span>The above program executes <span style="font-weight: bold;">wmctrl</span> and displays the listing on the console. Isn't Java interesting to work and great?<br />I am just left with implementing this idea on my lab test machine and collect great results!!!!
</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
