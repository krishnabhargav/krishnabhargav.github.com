---           
layout: post
title: Java Program to detect Server side redirections!
date: 2008-01-28 02:38:16 UTC
updated: 2008-01-28 02:38:16 UTC
comments: false
categories: Java
---

As a part of my research work, I wrote this small function in Java which gives you HTTP Response Code and with which we can actually detect server side redirects. The server side redirects have a response code as 302. Well here is the program,<br /><br />public class NetworkTool {<br />    public static int getResponseCode(String url) {<br /><br />        try {<br />            URL urlItem = new URL(url);<br />            HttpURLConnection con = (HttpURLConnection) urlItem.openConnection();<br />            <span style="font-weight: bold;">con.setReadTimeout(1000);</span><br /><span style="font-weight: bold;">            con.setConnectTimeout(5000);</span><br />            //System.out.println(con.getConnectTimeout());<br />            con.setInstanceFollowRedirects(false);<br />            int res = con.getResponseCode();<br />            return res;<br />        } catch (MalformedURLException e) {<br />            // TODO Auto-generated catch block<br />            //e.printStackTrace();<br />        } catch (IOException e) {<br />            // TODO Auto-generated catch block<br />            //e.printStackTrace();<br />        }<br />        catch(Exception ex){//System.out.println("hehe");<br />                    }<br />        return -1;<br />    }<br />   <br />    public static void main(String[] args)<br />    {<br />        System.out.println(getResponseCode("http://cs.uga.edu/index.htmx"));<br />        System.out.println(getResponseCode("http://buddibuddibuddi.com"));<br />        System.out.println(getResponseCode("http://128.192.1.21"));<br />    }<br />}<br /><br />The statements highlighted in bold are important. Otherwise, there are some url for which you get connected to the server but you keep waiting for infinite time for the data to come on the connection. So if we set time-out on read, we don't wait for long and this is especially helpful when you run the tests on huge data.<br />It took me quite a long time to get the actual code fixed, and then to find out the two statements. So I hope this post would be useful for others too.